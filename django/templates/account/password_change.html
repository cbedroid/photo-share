{% extends 'account/snippets/account_form.html' %}
{% load  i18n  static widget_tweaks  crispy_forms_tags %}

{% block head_title %}{% trans "Change Password" %}{% endblock %}

{% block account_content %}

<form method="POST" action="{% url 'account_change_password' %}" class="password_change">
    {% csrf_token %}
    <div class="space-y-6 bg-white">
        <fieldset>
            <legend class="px-4 py-3">
                <h3>{% trans "Change Password" %}</h3>
            </legend>
            <div class="items-center w-full p-4 space-y-4 text-gray-500 md:inline-flex md:space-y-0">
                <h4 class="font-semibold max-w-sm mx-auto md:w-1/3">
                    {% trans "Password" %}
                </h4>
                {% if form.errors %}
                {% for error in form.non_field_errors %}
                <div class="mb-2">
                    <strong class="text-red-500">{{ error|escape }}</strong>
                </div>
                {% endfor %}
                {% endif %}

                <div class="max-w-sm mx-auto md:w-2/3">
                    {% for field in form  %}
                    <div class="relative my-4">
                        {% if form.errors %}
                        <div><strong class="text-red-500">{{ field.errors.as_ul }}</strong></div>
                        {% endif %}
                        <label class="text-sm text-gray-500" for="id_{{field.name}}">
                            {{field.label}}
                        </label>
                        {{field|add_class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"|attr:"style:padding:5px;" }}
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="form-footer flex place-content-end place-items-center gap-x-4 px-12">
                <button class="btn btn-success shadow-lg hover:bg-green-600 text-gray-200 " type="submit" name="action">{% trans "Change Password" %}</button>
                <a class="text-blue-500" href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a>
            </div>
        </fieldset>
        <hr />
    </div>
</form>
{% endblock %}
